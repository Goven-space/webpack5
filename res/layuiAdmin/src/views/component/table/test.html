<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>静态表格</title>
        <meta name="renderer" content="webkit" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"
        />
        <link rel="stylesheet" href="../../../layuiadmin/layui/css/layui.css" media="all" />
        <link rel="stylesheet" href="../../../layuiadmin/style/admin.css" media="all" />
        <style>
            .table-test th, .table-test td{
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div class="layui-card layadmin-header">
            <div class="layui-breadcrumb" lay-filter="breadcrumb">
                <a lay-href="">主页</a>
                <a><cite>组件</cite></a>
                <a><cite>静态表格</cite></a>
            </div>
        </div>
        <div class="layui-fluid">
            <div class="layui-row layui-col-space15">
                <div class="layui-col-md12">
                    <div class="layui-card">
                        <div class="layui-card-header">测试折叠表格</div>
                        <div class="layui-card-body">
                            <table class="layui-table table-test">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>ID</th>
                                        <th>用户名</th>
                                        <th>性别</th>
                                        <th>签名</th>
                                        <th>积分</th>
                                        <th>评分</th>
                                    </tr> 
                                  </thead>
                                  <tbody>
                                  </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(function (){
                $('.table-test tbody').html((()=>{
                    let str = ""
                    const arr = [
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                        {
                            id: 1,
                            userName: '啊啊啊啊',
                            sex: '男',
                            sign: 'aaaa',
                            experience: 111,
                            score: 1
                        },
                    ]
                    for(let i = 0, l = 10; i < l; i++){
                        str += `
                            <tr>
                                <td>
                                    <button type="button" class="layui-btn layui-btn-primary layui-btn-xs expand-btn" data-open="false" data-index="${i}">
                                        <i class="layui-icon layui-icon-addition layui-font-12"></i>
                                    </button>    
                                </td>
                                <td>
                                    ${arr[i].id}
                                </td>
                                <td>
                                    ${arr[i].userName}
                                </td>
                                <td>
                                    ${arr[i].sex}
                                </td>
                                <td>
                                    ${arr[i].sign}
                                </td>
                                <td>
                                    ${arr[i].experience}
                                </td>
                                <td>
                                    ${arr[i].score}
                                </td>
                            </tr>
                            <tr class="expand-area" data-index="${i}">
                                
                            </tr>
                        `
                    }
                    return str
                })())
                $('.expand-btn').click(function () {
                    const index = $(this).data('index');
                    const open = $(this).data('open')
                    if(!open){
                        $(`.expand-area[data-index=${index}]`).html(`<td class="expand-area" colspan="7">第${index + 1}行</td>`);
                    }else{
                        $(`.expand-area[data-index=${index}]`).html('');
                    }
                    $(this).data('open', !open)
                })
            })
        </script>
    </body>
</html>
